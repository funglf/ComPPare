\doxysection{comppare.\+hpp}
\hypertarget{comppare_8hpp_source}{}\label{comppare_8hpp_source}\index{include/comppare/comppare.hpp@{include/comppare/comppare.hpp}}
\mbox{\hyperlink{comppare_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{}}
\DoxyCodeLine{00003\ \textcolor{comment}{Copyright\ 2025\ |\ Leong\ Fan\ FUNG\ |\ funglf\ |\ stanleyfunglf@gmail.com}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining\ a\ copy}}
\DoxyCodeLine{00006\ \textcolor{comment}{of\ this\ software\ and\ associated\ documentation\ files\ (the\ “Software”),\ to\ deal}}
\DoxyCodeLine{00007\ \textcolor{comment}{in\ the\ Software\ without\ restriction,\ including\ without\ limitation\ the\ rights}}
\DoxyCodeLine{00008\ \textcolor{comment}{to\ use,\ copy,\ modify,\ merge,\ publish,\ distribute,\ sublicense,\ and/or\ sell}}
\DoxyCodeLine{00009\ \textcolor{comment}{copies\ of\ the\ Software,\ and\ to\ permit\ persons\ to\ whom\ the\ Software\ is}}
\DoxyCodeLine{00010\ \textcolor{comment}{furnished\ to\ do\ so,\ subject\ to\ the\ following\ conditions:}}
\DoxyCodeLine{00011\ \textcolor{comment}{}}
\DoxyCodeLine{00012\ \textcolor{comment}{The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be\ included\ in}}
\DoxyCodeLine{00013\ \textcolor{comment}{all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00014\ \textcolor{comment}{}}
\DoxyCodeLine{00015\ \textcolor{comment}{THE\ SOFTWARE\ IS\ PROVIDED\ “AS\ IS”,\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,\ EXPRESS\ OR}}
\DoxyCodeLine{00016\ \textcolor{comment}{IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF\ MERCHANTABILITY,}}
\DoxyCodeLine{00017\ \textcolor{comment}{FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND\ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE}}
\DoxyCodeLine{00018\ \textcolor{comment}{AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE\ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER}}
\DoxyCodeLine{00019\ \textcolor{comment}{LIABILITY,\ WHETHER\ IN\ AN\ ACTION\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,}}
\DoxyCodeLine{00020\ \textcolor{comment}{OUT\ OF\ OR\ IN\ CONNECTION\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE}}
\DoxyCodeLine{00021\ \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{00022\ \textcolor{comment}{}}
\DoxyCodeLine{00023\ \textcolor{comment}{*/}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <iomanip>}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ <concepts>}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ansi_8hpp}{comppare/internal/ansi.hpp}}>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{config_8hpp}{comppare/internal/config.hpp}}>}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{helper_8hpp}{comppare/internal/helper.hpp}}>}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{policy_8hpp}{comppare/internal/policy.hpp}}>}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{plugin_8hpp}{comppare/plugin/plugin.hpp}}>}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#if\ defined(HAVE\_GOOGLE\_BENCHMARK)\ \&\&\ defined(HAVE\_NV\_BENCH)}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#warning\ "{}Please\ only\ use\ one\ Plugin."{}}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#if\ defined(HAVE\_GOOGLE\_BENCHMARK)}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{google__benchmark_8hpp}{comppare/plugin/google\_benchmark/google\_benchmark.hpp}}"{}}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#endif\ }}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#if\ defined(HAVE\_NV\_BENCH)}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{nvbench_8hpp}{comppare/plugin/nvbench/nvbench.hpp}}"{}}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecomppare}{comppare}}}
\DoxyCodeLine{00071\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ \ \ \ DoNotOptimize()\ and\ ClobberMemory()\ are\ utility\ functions\ to\ prevent\ compiler\ optimizations}}
\DoxyCodeLine{00074\ \textcolor{comment}{}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ Reference:}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ \ \ CppCon\ 2015:\ Chandler\ Carruth\ "{}Tuning\ C++:\ Benchmarks,\ and\ CPUs,\ and\ Compilers!\ Oh\ My!"{}}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ \ \ \ Google\ Benchmark:\ https://github.com/google/benchmark}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ \ \ }}
\DoxyCodeLine{00079\ \textcolor{comment}{\ \ \ \ Copyright\ 2015\ Google\ Inc.\ All\ rights\ reserved.}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ }}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00084\ \textcolor{comment}{\ \ \ \ }}
\DoxyCodeLine{00085\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ \ }}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{inline}\ \_\_attribute\_\_((always\_inline))\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacecomppare_a047cefc5aebc47d079d502c2d189fe12}{DoNotOptimize}}(T\ \textcolor{keyword}{const}\ \&value)}
\DoxyCodeLine{00104\ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ :\ \textcolor{stringliteral}{"{}r,m"{}}(value)\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{inline}\ \_\_attribute\_\_((always\_inline))\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacecomppare_a047cefc5aebc47d079d502c2d189fe12}{DoNotOptimize}}(T\ \&value)}
\DoxyCodeLine{00118\ \ \ \ \ \{}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+r,m"{}}(value)\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+m,r"{}}(value)\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keyword}{inline}\ \_\_attribute\_\_((always\_inline))\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacecomppare_a047cefc5aebc47d079d502c2d189fe12}{DoNotOptimize}}(T\ \&\&value)}
\DoxyCodeLine{00136\ \ \ \ \ \{}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+r,m"{}}(value)\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+m,r"{}}(value)\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ This\ implementation\ is\ verbatim\ from\ Google\ Benchmark’s\ benchmark::ClobberMemory(),}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{comment}{//\ licensed\ under\ Apache 2.0.\ No\ changes\ have\ been\ made.}}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{inline}\ \_\_attribute\_\_((always\_inline))\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacecomppare_a05ebea0d4dc1e2144f68247eb6d9134e}{ClobberMemory}}()}
\DoxyCodeLine{00147\ \ \ \ \ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ std::atomic\_signal\_fence(std::memory\_order\_acq\_rel);}
\DoxyCodeLine{00149\ \ \ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Value,\ \textcolor{keyword}{typename}\ Policy\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcomppare_1_1spec}{spec}};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Value>}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptcomppare_1_1internal_1_1policy_1_1autopolicy_1_1_supported_by_auto_policy}{internal::policy::autopolicy::SupportedByAutoPolicy<Value>}}}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcomppare_1_1spec}{spec}}<Value,\ void>}
\DoxyCodeLine{00157\ \ \ \ \ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structcomppare_1_1spec_3_01_value_00_01void_01_4_aab83f6a5a872a7f5ce1a34bec52a3209}{value\_t}}\ =\ Value;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structcomppare_1_1spec_3_01_value_00_01void_01_4_a40d5e3d4002f9150a670b0541f89167c}{policy\_t}}\ =\ \mbox{\hyperlink{namespacecomppare_1_1internal_1_1policy_1_1autopolicy_a947342d478b2a264feefe51135fd91a4}{internal::policy::autopolicy::AutoPolicy\_t<Value>}};}
\DoxyCodeLine{00160\ \ \ \ \ \};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Value,\ \textcolor{keyword}{typename}\ Policy>}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcomppare_1_1spec}{spec}}<\mbox{\hyperlink{structcomppare_1_1spec}{spec}}<Value,\ Policy>,\ void>}
\DoxyCodeLine{00164\ \ \ \ \ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structcomppare_1_1spec_3_01spec_3_01_value_00_01_policy_01_4_00_01void_01_4_aaa275814555ee99e8df39bdca1334b2e}{value\_t}}\ =\ Value;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structcomppare_1_1spec_3_01spec_3_01_value_00_01_policy_01_4_00_01void_01_4_ad7ba96beb1b7dc084fc1f3bd612d68b6}{policy\_t}}\ =\ Policy;}
\DoxyCodeLine{00167\ \ \ \ \ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Value,\ \textcolor{keyword}{typename}\ Policy>}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptcomppare_1_1internal_1_1policy_1_1_error_policy}{comppare::internal::policy::ErrorPolicy<Value,\ Policy>}}}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcomppare_1_1spec}{spec}}<Value,\ Policy>}
\DoxyCodeLine{00172\ \ \ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }value\_t\ =\ Value;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }policy\_t\ =\ Policy;}
\DoxyCodeLine{00175\ \ \ \ \ \};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Value,\ \textcolor{keyword}{typename}\ Policy>}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacecomppare_ab1f041e5bc6fe36f404aedc905cf98b2}{set\_policy}}\ =\ \mbox{\hyperlink{structcomppare_1_1spec}{spec<Value,\ Policy>}};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keyword}{concept\ }\mbox{\hyperlink{conceptcomppare_1_1_out_spec}{OutSpec}}\ =}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{conceptcomppare_1_1internal_1_1policy_1_1_error_policy}{comppare::internal::policy::ErrorPolicy}}<}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structcomppare_1_1spec}{spec<T>::value\_t}},}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structcomppare_1_1spec}{spec<T>::policy\_t}}>;}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Inputs>}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcomppare_1_1_input_context}{InputContext}}}
\DoxyCodeLine{00193\ \ \ \ \ \{}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\mbox{\hyperlink{conceptcomppare_1_1_out_spec}{OutSpec}}...\ Specs>}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structcomppare_1_1spec}{spec<S>::value\_t}};}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a0959453431e22dc527eaf4c50e0c2ac4}{pol\_t}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structcomppare_1_1spec}{spec<S>::policy\_t}};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a43c2cb7c5ed9fcaeab2de6c677ef8db9}{Func}}\ =\ std::function<void(\textcolor{keyword}{const}\ Inputs\ \&...,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ \&...)>;}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_abf0f9033961bfa302c86cc72191d5d2b}{InTup}}\ =\ std::tuple<Inputs...>;}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afcc86ea79fae5a48f889541870116bba}{OutTup}}\ =\ std::tuple<val\_t<Specs>...>;}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ =\ std::tuple<pol\_t<Specs>...>;}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ =\ std::shared\_ptr<OutTup>;}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_abf0f9033961bfa302c86cc72191d5d2b}{InTup}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a418eb99b3b0ec410f7126a366471f9b1}{inputs\_}};}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<OutPtr>\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}};}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a353dd15f5b2a72d246383d073ef7b568}{policies\_ref\_}};}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a0408381c56b78507e451f32c4613b61c}{NUM\_OUT}}\ =\ \textcolor{keyword}{sizeof}...(Specs);}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<plugin::Plugin<InTup,\ OutTup>>\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}};}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ac2bc999ec613384464e352388b204148}{register\_plugin}}(\textcolor{keyword}{const}\ std::shared\_ptr<\mbox{\hyperlink{classcomppare_1_1plugin_1_1_plugin}{plugin::Plugin<InTup,\ OutTup>}}>\ \&p)}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}})}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}}\ =\ p;}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}}\ !=\ p)}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Multiple\ plugins\ are\ not\ supported"{}});}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl}{Impl}}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_aa759dca77c451182e117c656548c458b}{name}};}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a43c2cb7c5ed9fcaeab2de6c677ef8db9}{Func}}\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ac68732283f0ac63e0b36ff8c6345b2c8}{fn}};}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_abf0f9033961bfa302c86cc72191d5d2b}{InTup}}\ *\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_a1715e67cb0da765057eff5d884801aab}{inputs\_ptr}};}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ *\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_af630add7f3910fb7fa31f66693d8f855}{parent\_ctx}};}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<OutTup>\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae622d35ab1b62b5185a6563ff50ce5bb}{plugin\_output}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \textcolor{preprocessor}{\#ifdef\ HAVE\_GOOGLE\_BENCHMARK}\textcolor{preprocessor}{}}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_a430c804bf27b5ae7af2e4c31b1b8e4f9}{google\_benchmark}}()}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae528f139ca8af7e60d227e156476d7a4}{attach<plugin::google\_benchmark::GoogleBenchmarkPlugin>}}();}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00361\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#ifdef\ HAVE\_NV\_BENCH}\textcolor{preprocessor}{}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_acda15f689294e81ee36cbb8dd466897d}{nvbench}}()}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae528f139ca8af7e60d227e156476d7a4}{attach<plugin::nvbenchplugin::nvbenchPlugin>}}();}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00373\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{template}\ <\textcolor{keyword}{class},\ \textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }Plugin>}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptcomppare_1_1plugin_1_1_valid_plugin}{comppare::plugin::ValidPlugin<Plugin,\ InTup,\ OutTup,\ Func>}}}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae528f139ca8af7e60d227e156476d7a4}{attach}}()}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ adp\ =\ Plugin<InTup,\ OutTup>::instance();}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_af630add7f3910fb7fa31f66693d8f855}{parent\_ctx}}-\/>register\_plugin(adp);}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae622d35ab1b62b5185a6563ff50ce5bb}{plugin\_output}}\ =\ std::make\_unique<OutTup>();}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ adp-\/>register\_impl(\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_aa759dca77c451182e117c656548c458b}{name}},\ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ac68732283f0ac63e0b36ff8c6345b2c8}{fn}},\ *\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_a1715e67cb0da765057eff5d884801aab}{inputs\_ptr}},\ *\mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl_ae622d35ab1b62b5185a6563ff50ce5bb}{plugin\_output}});}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Impl>\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}};}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ helpers\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <std::\textcolor{keywordtype}{size\_t}\ I>}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::size\_t\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2c601f07b13e7d449a60485f9ae85d40}{spec\_metric\_count}}()\ \{\ \textcolor{keywordflow}{return}\ std::tuple\_element\_t<I,\ PolicyTup>::metric\_count();\ \}}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <std::\textcolor{keywordtype}{size\_t}\ I>}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::string\_view\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a6546c5e3c964b54a204551b11a6c9d88}{spec\_metric\_name}}(std::size\_t\ m)\ \{\ \textcolor{keywordflow}{return}\ std::tuple\_element\_t<I,\ PolicyTup>::metric\_name(m);\ \}}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}}\ =\ 20;}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a85b7b80f001a9dff399f22ee8e7d01ef}{print\_header}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00441\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::left\ <<\ comppare::internal::ansi::BOLD}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=\(\backslash\)n============\ "{}}}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::ITALIC(\textcolor{stringliteral}{"{}ComPPare\ Framework"{}})}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ ============\(\backslash\)n=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*"{}}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::BOLD\_OFF\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left\ <<\ std::setw(30)\ <<\ \textcolor{stringliteral}{"{}Number\ of\ implementations:\ "{}}}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::right\ <<\ std::setw(10)\ <<\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.size()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left\ <<\ std::setw(30)\ <<\ \textcolor{stringliteral}{"{}Warmup\ iterations:\ "{}}}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::right\ <<\ std::setw(10)\ <<\ \mbox{\hyperlink{classcomppare_1_1config_ab1490e36efe896d0124486f7b4254fc1}{comppare::config::warmup\_iters}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left\ <<\ std::setw(30)\ <<\ \textcolor{stringliteral}{"{}Benchmark\ iterations:\ "{}}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::right\ <<\ std::setw(10)\ <<\ \mbox{\hyperlink{classcomppare_1_1config_a746ad50b12f724824b3b62f146968a8d}{comppare::config::bench\_iters}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left\ <<\ comppare::internal::ansi::BOLD(\textcolor{stringliteral}{"{}=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*"{}})\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Print\ header\ for\ the\ output\ table}}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ comppare::internal::ansi::UNDERLINE\ <<\ comppare::internal::ansi::BOLD}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ \textcolor{stringliteral}{"{}Implementation"{}}}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::right}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ \textcolor{stringliteral}{"{}ROI\ µs/Iter"{}}}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ \textcolor{stringliteral}{"{}Func\ µs"{}}}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ \textcolor{stringliteral}{"{}Ovhd\ µs"{}};}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ prints\ metric\ header}}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\&\_print\_metric\_header\ =\ [\textcolor{keyword}{this}]<std::size\_t\ I>()}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ m\ =\ 0;\ m\ <\ this-\/>\textcolor{keyword}{template}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2c601f07b13e7d449a60485f9ae85d40}{spec\_metric\_count<I>}}();\ ++m)}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::UNDERLINE(}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ comppare::internal::ansi::BOLD(}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string(this-\/>\textcolor{keyword}{template}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a6546c5e3c964b54a204551b11a6c9d88}{spec\_metric\_name<I>}}(m))\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ std::to\_string(I)\ +\ \textcolor{stringliteral}{"{}]"{}}));}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ lambda\ to\ call\ print\ metric\ header\ across\ each\ metric\ by\ unpacking\ I}}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&]<std::size\_t...\ I>(std::index\_sequence<I...>)}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ .template\ is\ a\ disambiguator\ as\ }}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ using\ \_print\_metric\_header<I>(),}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ compiler\ will\ treat\ \`{}<`\ as\ an\ operator}}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\_print\_metric\_header.template\ operator()<I>(),\ ...);}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}(std::make\_index\_sequence<NUM\_OUT>\{\});}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a02caa5ba8fe7795a49177c91a421e9ea}{compute\_errors}}(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ \&errs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afcc86ea79fae5a48f889541870116bba}{OutTup}}\ \&test,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afcc86ea79fae5a48f889541870116bba}{OutTup}}\ \&ref)}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\&\_compute\_errors\ =\ [\&]<std::size\_t\ I>()}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \mbox{\hyperlink{namespacecomppare_1_1internal_1_1policy_ae294ad374430c59c18320e5e52f36c5f}{comppare::internal::policy::compute\_error}}(std::get<I>(errs),\ std::get<I>(test),\ std::get<I>(ref));\ \};}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&]<std::size\_t...\ I>(std::index\_sequence<I...>)}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\_compute\_errors.template\ operator()<I>(),\ ...);}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}(std::make\_index\_sequence<NUM\_OUT>\{\});}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a740b4dc6b507cdc91df5e96e35a19bda}{any\_fail}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ \&errs)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00515\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\&\_any\_fail\ =\ [\&]<std::size\_t\ I>()\ -\/>\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacecomppare_1_1internal_1_1policy_a0e9ab984192a341c2304e640983befc2}{comppare::internal::policy::is\_fail}}(std::get<I>(errs));}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [\&]<std::size\_t...\ I>(std::index\_sequence<I...>)\ -\/>\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ fail\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((fail\ |=\ \_any\_fail.template\ operator()<I>()),\ ...);}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fail;}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}(std::make\_index\_sequence<NUM\_OUT>\{\});}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a0756e3b401c707b513cd9408a3aca658}{print\_metrics}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ \&errs)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00535\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\&\_print\_metrics\ =\ [\&errs]<std::size\_t\ I>()}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ m\ =\ 0;\ m\ <\ spec\_metric\_count<I>();\ ++m)}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ std::scientific\ <<\ std::get<I>(errs).metric(m);}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&]<std::size\_t...\ I>(std::index\_sequence<I...>)}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\_print\_metrics.template\ operator()<I>(),\ ...);}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}(std::make\_index\_sequence<NUM\_OUT>\{\});}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2b223da0accd2e5946d983bd70049a2a}{get\_output\_by\_index\_}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ idx)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00555\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}.empty())}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}run()\ has\ not\ been\ executed"{}});}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (idx\ >=\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}.size())}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::out\_of\_range(\textcolor{stringliteral}{"{}Index\ out\ of\ range\ for\ outputs"{}});}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}[idx];}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00563\ }
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad2be156e5e52eec6e374b8d51b246751}{get\_output\_by\_name\_}}(\textcolor{keyword}{const}\ std::string\_view\ name)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00571\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}.empty())}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}run()\ has\ not\ been\ executed"{}});}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.size();\ ++i)}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}[i].name\ ==\ name)}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}[i];}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::stringstream\ os;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}Output\ with\ name\ '"{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}'\ not\ found"{}};}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::invalid\_argument(os.str());}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a3ef55c765cda265d00f75dc1736f2001}{unpack\_output\_}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afcc86ea79fae5a48f889541870116bba}{OutTup}}\ \&outtup,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ *...outs)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00591\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::apply(}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\textcolor{keyword}{auto}\ \&...outtup\_elem)}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((*outs\ =\ outtup\_elem),\ ...);}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outtup);}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Constructor\ to\ initialize\ the\ OutputContext\ with\ inputs}}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ used\ to\ hold\ and\ pass\ the\ same\ input\ arguments/data\ for\ all\ implementations}}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ inputs\ are\ perfectly\ forwarded\ -\/-\/\ for\ instance\ taking\ ownership\ when\ moving}}
\DoxyCodeLine{00604\ }
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Ins>}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}(Ins\ \&\&...ins)}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a418eb99b3b0ec410f7126a366471f9b1}{inputs\_}}(std::forward<Ins>(ins)...)\ \{\}}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a3be1304a484dba7b32a145956f5e455b}{OutputContext}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ac8b9c1c3151752ae9fca73b6de867bb6}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a13fd5d5a917916a9d3fb3c7d07f8daf4}{OutputContext}}(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&\&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_acdfa8a132039f0bdce619d97e17ee089}{operator=}}(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a970d7755318a31ff7cbc04a9f2e3bc36}{OutputContext}}\ \&\&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00626\ }
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ std::invocable<F,\ \textcolor{keyword}{const}\ Inputs\ \&...,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ \&...>}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl}{Impl}}\ \&\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_aef22db63e614b333148d4f049cdff6cc}{set\_reference}}(std::string\ name,\ F\ \&\&f)}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.insert(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.begin(),\ \{std::move(name),\ Func(std::forward<F>(f)),\ \&inputs\_,\ this\});}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.front();}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ std::invocable<F,\ \textcolor{keyword}{const}\ Inputs\ \&...,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ \&...>}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl}{Impl}}\ \&\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a8ef67635544e4d6c9ead450f888d5a31}{add}}(std::string\ name,\ F\ \&\&f)}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.push\_back(\{std::move(name),\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a43c2cb7c5ed9fcaeab2de6c677ef8db9}{Func}}(std::forward<F>(f)),\ \&\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a418eb99b3b0ec410f7126a366471f9b1}{inputs\_}},\ \textcolor{keyword}{this}\});}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.back();}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00666\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ Getter\ for\ the\ output\ results}}
\DoxyCodeLine{00667\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af888e9bd17f8b193971ca4ee33c94c7a}{get\_reference\_output}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00676\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2b223da0accd2e5946d983bd70049a2a}{get\_output\_by\_index\_}}(0);}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a78513b44f9e89a79ad9bcada6ee763b1}{get\_output}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ idx)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00689\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2b223da0accd2e5946d983bd70049a2a}{get\_output\_by\_index\_}}(idx);}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a250f671a03d75d44c522b2071f47f399}{OutPtr}}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afe2dfa8b58666743bae2f070fcd2bac2}{get\_output}}(\textcolor{keyword}{const}\ std::string\_view\ name)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00702\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad2be156e5e52eec6e374b8d51b246751}{get\_output\_by\_name\_}}(name);}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a5b6436eaaf757a4f11e6be6dc39a13da}{get\_reference\_output}}(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ *...outs)\ \textcolor{keyword}{const}}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}(\textcolor{keyword}{sizeof}...(Specs)\ >\ 0)}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&outtup\ =\ *\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2b223da0accd2e5946d983bd70049a2a}{get\_output\_by\_index\_}}(0);}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a3ef55c765cda265d00f75dc1736f2001}{unpack\_output\_}}(outtup,\ outs...);}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a493ea93b1405bf0805156707eb235fc1}{get\_output}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ idx,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ *...outs)\ \textcolor{keyword}{const}}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}(\textcolor{keyword}{sizeof}...(Specs)\ >\ 0)}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&outtup\ =\ *\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a2b223da0accd2e5946d983bd70049a2a}{get\_output\_by\_index\_}}(idx);}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a3ef55c765cda265d00f75dc1736f2001}{unpack\_output\_}}(outtup,\ outs...);}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ae63897a841dc60c80fa8ddd328fed7c3}{get\_output}}(\textcolor{keyword}{const}\ std::string\_view\ name,\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a9a558f1f7b6670f492b6a9efa9b93dd7}{val\_t<Specs>}}\ *...outs)\ \textcolor{keyword}{const}}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}(\textcolor{keyword}{sizeof}...(Specs)\ >\ 0)}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&outtup\ =\ *\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad2be156e5e52eec6e374b8d51b246751}{get\_output\_by\_name\_}}(name);}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a3ef55c765cda265d00f75dc1736f2001}{unpack\_output\_}}(outtup,\ outs...);}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_abdec747f59747814af608ebc61f4a167}{run}}(\textcolor{keywordtype}{int}\ argc\ =\ 0,}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ **argv\ =\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacecomppare_1_1internal_1_1helper_a6584f5d2acf97c0840bbc15cb8da0e53}{comppare::internal::helper::parse\_args}}(argc,\ argv);}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.empty())}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*\(\backslash\)nNo\ implementations\ added\ to\ the\ ComPPare\ Framework.\(\backslash\)n*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*\(\backslash\)n"{}};}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}.reserve(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.size());\ \textcolor{comment}{//\ reserve\ space\ for\ outputs\ -\/-\/\ resize\ and\ use\ index\ works\ too.}}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a85b7b80f001a9dff399f22ee8e7d01ef}{print\_header}}();}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Main\ loop\ to\ iterate\ over\ all\ implementations}}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ 0;\ k\ <\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}.size();\ ++k)}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ current\ implementation}}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&impl\ =\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ace1943e8099b195b26e0ae85d1ba3dd0}{impls\_}}[k];}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_afcc86ea79fae5a48f889541870116bba}{OutTup}}\ outs;}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ func\_duration;}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00794\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ use\ std::apply\ to\ unpack\ the\ inputs\ and\ outputs\ completely\ to\ do\ 1\ function\ call\ of\ the\ implementation}}
\DoxyCodeLine{00795\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this\ is\ equivalent\ to\ calling:}}
\DoxyCodeLine{00796\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ impl.fn(inputs[0],\ inputs[1],\ ...,\ outputs[0],\ outputs[1],\ iters,\ roi\_us);}}
\DoxyCodeLine{00797\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::apply([\&](\textcolor{keyword}{auto}\ \textcolor{keyword}{const}\ \&...in)}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ std::apply(}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\textcolor{keyword}{auto}\ \&...out)}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ func\_start\ =\ comppare::config::clock\_t::now();}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ impl.fn(in...,\ out...);}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ func\_end\ =\ comppare::config::clock\_t::now();}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ func\_duration\ =\ std::chrono::duration<double,\ std::micro>(func\_end\ -\/\ func\_start).count();}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outs);\ \},}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a418eb99b3b0ec410f7126a366471f9b1}{inputs\_}});}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ time\ taken\ by\ the\ function\ in\ microseconds}}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ roi\_us\ =\ \mbox{\hyperlink{classcomppare_1_1config_a700e53e6f60921f8a97fc64e422f1ec8}{comppare::config::get\_roi\_us}}();}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ warmup\_us\ =\ \mbox{\hyperlink{classcomppare_1_1config_a9fbdaaa78cbc7240f0f0b9987c51ce76}{comppare::config::get\_warmup\_us}}();}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ func\_us\ =\ func\_duration\ -\/\ warmup\_us;}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ ovhd\_us\ =\ func\_us\ -\/\ roi\_us;}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ roi\_us\ /=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(\mbox{\hyperlink{classcomppare_1_1config_a746ad50b12f724824b3b62f146968a8d}{comppare::config::bench\_iters}}());}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a617477d83d9751fa1114acdb94da2745}{PolicyTup}}\ errs\{\};}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k)}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a02caa5ba8fe7795a49177c91a421e9ea}{compute\_errors}}(errs,\ outs,\ *\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}[0]);}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_ad9a0f7beefbeb5a2687fbe22ee4b8923}{outputs\_}}.push\_back(std::make\_shared<OutTup>(std::move(outs)));}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ print\ row}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ comppare::internal::ansi::RESET}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::left\ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ comppare::internal::ansi::GREEN(impl.name)}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::fixed\ <<\ std::setprecision(2)\ <<\ std::right}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::YELLOW}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ roi\_us}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::DIM}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ func\_us}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::setw(\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_adfe6b6aaa6a49b2f538619d8ee8747a4}{PRINT\_COL\_WIDTH}})\ <<\ ovhd\_us}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ comppare::internal::ansi::RESET;}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a0756e3b401c707b513cd9408a3aca658}{print\_metrics}}(errs);}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k\ \&\&\ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_a740b4dc6b507cdc91df5e96e35a19bda}{any\_fail}}(errs))}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ comppare::internal::ansi::BG\_RED(\textcolor{stringliteral}{"{}<-\/-\/\ FAIL"{}});}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{comment}{/*\ for\ impls\ */}}
\DoxyCodeLine{00841\ }
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1current__state_a1ef5f6becff4320be468fa5937217a5f}{comppare::current\_state::set\_using\_plugin}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}})}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}}-\/>initialize(argc,\ argv);}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context_af163a05c6fa0ced672d7c2a034c44d07}{plugin\_}}-\/>run();}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcomppare_1_1current__state_a1ef5f6becff4320be468fa5937217a5f}{comppare::current\_state::set\_using\_plugin}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{comment}{/*\ run\ */}}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ \};\ \textcolor{comment}{/*\ OutputContext\ */}}
\DoxyCodeLine{00851\ \ \ \ \ \};\ \textcolor{comment}{/*\ InputContext\ */}}
\DoxyCodeLine{00852\ \}\ \textcolor{comment}{//\ namespace\ comppare}}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00858\ \textcolor{preprocessor}{\#define\ HOTLOOPSTART\ \(\backslash\)}}
\DoxyCodeLine{00859\ \textcolor{preprocessor}{\ \ \ \ auto\ \&\&hotloop\_body\ =\ [\&]()\ \{\ }\textcolor{comment}{/*\ start\ of\ lambda\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00860\ }
\DoxyCodeLine{00865\ \textcolor{preprocessor}{\#define\ COMPPARE\_HOTLOOP\_BENCH\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00866\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Warm-\/up\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00867\ \textcolor{preprocessor}{\ \ \ \ auto\ warmup\_t0\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00868\ \textcolor{preprocessor}{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ comppare::config::warmup\_iters();\ ++i)\ \(\backslash\)}}
\DoxyCodeLine{00869\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00870\ \textcolor{preprocessor}{\ \ \ \ auto\ warmup\_t1\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00871\ \textcolor{preprocessor}{\ \ \ \ comppare::config::set\_warmup\_us(warmup\_t0,\ warmup\_t1);\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00872\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00873\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Timed\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00874\ \textcolor{preprocessor}{\ \ \ \ comppare::config::reset\_roi\_us();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00875\ \textcolor{preprocessor}{\ \ \ \ auto\ t0\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00876\ \textcolor{preprocessor}{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ comppare::config::bench\_iters();\ ++i)\ \ \(\backslash\)}}
\DoxyCodeLine{00877\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00878\ \textcolor{preprocessor}{\ \ \ \ auto\ t1\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00879\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00880\ \textcolor{preprocessor}{\ \ \ \ if\ (comppare::config::get\_roi\_us()\ ==\ double(0.0))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00881\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ comppare::config::set\_roi\_us(t0,\ t1);}}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \textcolor{preprocessor}{\#ifdef\ PLUGIN\_HOTLOOP\_BENCH}}
\DoxyCodeLine{00884\ \textcolor{preprocessor}{\#define\ HOTLOOPEND\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00885\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00886\ \textcolor{preprocessor}{\ \ \ \ ;\ }\textcolor{comment}{/*\ end\ lambda\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00887\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00888\ \textcolor{preprocessor}{\ \ \ \ if\ (comppare::current\_state::using\_plugin())\ \(\backslash\)}}
\DoxyCodeLine{00889\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00890\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ PLUGIN\_HOTLOOP\_BENCH;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00891\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00892\ \textcolor{preprocessor}{\ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00893\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00894\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ COMPPARE\_HOTLOOP\_BENCH;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00895\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{00896\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00897\ \textcolor{preprocessor}{\#define\ HOTLOOPEND\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00898\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00899\ \textcolor{preprocessor}{\ \ \ \ ;\ }\textcolor{comment}{/*\ end\ lambda\ */}\textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00900\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00901\ \textcolor{preprocessor}{\ \ \ \ COMPPARE\_HOTLOOP\_BENCH;}}
\DoxyCodeLine{00902\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00907\ \textcolor{preprocessor}{\#define\ HOTLOOP(LOOP\_BODY)\ \(\backslash\)}}
\DoxyCodeLine{00908\ \textcolor{preprocessor}{\ \ \ \ HOTLOOPSTART\ LOOP\_BODY\ HOTLOOPEND}}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00913\ \textcolor{preprocessor}{\#define\ MANUAL\_TIMER\_START\ \(\backslash\)}}
\DoxyCodeLine{00914\ \textcolor{preprocessor}{\ \ \ \ auto\ t\_manual\_start\ =\ comppare::config::clock\_t::now();}}
\DoxyCodeLine{00915\ }
\DoxyCodeLine{00919\ \textcolor{preprocessor}{\#define\ MANUAL\_TIMER\_END\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00920\ \textcolor{preprocessor}{\ \ \ \ auto\ t\_manual\_stop\ =\ comppare::config::clock\_t::now();\ \(\backslash\)}}
\DoxyCodeLine{00921\ \textcolor{preprocessor}{\ \ \ \ SET\_ITERATION\_TIME(t\_manual\_stop\ -\/\ t\_manual\_start);}}
\DoxyCodeLine{00922\ }
\DoxyCodeLine{00923\ \textcolor{preprocessor}{\#ifdef\ PLUGIN\_HOTLOOP\_BENCH}}
\DoxyCodeLine{00924\ \textcolor{preprocessor}{\#define\ SET\_ITERATION\_TIME(TIME)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00925\ \textcolor{preprocessor}{\ \ \ \ if\ (comppare::current\_state::using\_plugin())\ \ \(\backslash\)}}
\DoxyCodeLine{00926\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00927\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ PLUGIN\_SET\_ITERATION\_TIME(TIME);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00928\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00929\ \textcolor{preprocessor}{\ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00930\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00931\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ comppare::config::increment\_roi\_us(TIME);\ \(\backslash\)}}
\DoxyCodeLine{00932\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{00933\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00934\ \textcolor{preprocessor}{\#define\ SET\_ITERATION\_TIME(TIME)\ \(\backslash\)}}
\DoxyCodeLine{00935\ \textcolor{preprocessor}{\ \ \ \ comppare::config::increment\_roi\_us(TIME);}}
\DoxyCodeLine{00936\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \textcolor{preprocessor}{\#if\ defined(\_\_CUDACC\_\_)}}
\DoxyCodeLine{00939\ \textcolor{preprocessor}{\ \ \ \ \#define\ GPU\_PREFIX\ cuda}}
\DoxyCodeLine{00940\ \textcolor{preprocessor}{\#elif\ defined(\_\_HIPCC\_\_)}}
\DoxyCodeLine{00941\ \textcolor{preprocessor}{\ \ \ \ \#define\ GPU\_PREFIX\ hip}}
\DoxyCodeLine{00942\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \textcolor{preprocessor}{\#if\ defined(GPU\_PREFIX)}}
\DoxyCodeLine{00945\ }
\DoxyCodeLine{00946\ \textcolor{preprocessor}{\#if\ defined(HAVE\_GOOGLE\_BENCHMARK)}}
\DoxyCodeLine{00947\ \textcolor{preprocessor}{\#warning\ "{}Not\ Recommended\ to\ use\ Google\ Benchmark\ with\ GPU\_HOTLOOPEND\ macro.\ Use\ SET\_ITERATION\_TIME\ and\ manual\ timing\ instead."{}}}
\DoxyCodeLine{00948\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \textcolor{preprocessor}{\#define\ CONCAT\_IMPL(x,\ y)\ x\#\#y}}
\DoxyCodeLine{00951\ \textcolor{preprocessor}{\#define\ CONCAT(x,\ y)\ CONCAT\_IMPL(x,\ y)}}
\DoxyCodeLine{00952\ }
\DoxyCodeLine{00957\ \textcolor{preprocessor}{\#define\ GPU\_HOTLOOPSTART\ \(\backslash\)}}
\DoxyCodeLine{00958\ \textcolor{preprocessor}{\ \ \ \ auto\ \&\&hotloop\_body\ =\ [\&]()\ \{\ }\textcolor{comment}{/*\ start\ of\ lambda\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00959\ }
\DoxyCodeLine{00964\ \textcolor{preprocessor}{\#define\ GPU\_COMPPARE\_HOTLOOP\_BENCH\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00965\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Warm-\/up\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00966\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ Event\_t)\ start\_,\ stop\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00967\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventCreate)(\&start\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00968\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventCreate)(\&stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00969\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(start\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00970\ \textcolor{preprocessor}{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ comppare::config::warmup\_iters();\ ++i)\ \(\backslash\)}}
\DoxyCodeLine{00971\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00972\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00973\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventSynchronize)(stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00974\ \textcolor{preprocessor}{\ \ \ \ float\ ms\_warmup\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00975\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventElapsedTime)(\&ms\_warmup\_,\ start\_,\ stop\_);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00976\ \textcolor{preprocessor}{\ \ \ \ comppare::config::set\_warmup\_us(1e3\ *\ ms\_warmup\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00977\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00978\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Timed\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00979\ \textcolor{preprocessor}{\ \ \ \ comppare::config::reset\_roi\_us();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00980\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(start\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00981\ \textcolor{preprocessor}{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ comppare::config::bench\_iters();\ ++i)\ \ \(\backslash\)}}
\DoxyCodeLine{00982\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00983\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00984\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventSynchronize)(stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00985\ \textcolor{preprocessor}{\ \ \ \ float\ ms\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00986\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventElapsedTime)(\&ms\_,\ start\_,\ stop\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00987\ \textcolor{preprocessor}{\ \ \ \ if\ (comppare::config::get\_roi\_us()\ ==\ double(0.0))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00988\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ comppare::config::set\_roi\_us(1e3\ *\ ms\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00989\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventDestroy)(start\_);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00990\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventDestroy)(stop\_);}}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \textcolor{preprocessor}{\#if\ defined(GPU\_PLUGIN\_HOTLOOP\_BENCH)}}
\DoxyCodeLine{00993\ }
\DoxyCodeLine{00994\ \textcolor{preprocessor}{\#define\ GPU\_HOTLOOPEND\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00995\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00996\ \textcolor{preprocessor}{\ \ \ \ ;\ }\textcolor{comment}{/*\ end\ lambda\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00997\ \textcolor{preprocessor}{\ \ \ \ if\ (comppare::current\_state::using\_plugin())\ \(\backslash\)}}
\DoxyCodeLine{00998\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00999\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ GPU\_PLUGIN\_HOTLOOP\_BENCH;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01000\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01001\ \textcolor{preprocessor}{\ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01002\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01003\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ GPU\_COMPPARE\_HOTLOOP\_BENCH;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01004\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{01005\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \textcolor{preprocessor}{\#define\ GPU\_HOTLOOPEND\ \(\backslash\)}}
\DoxyCodeLine{01008\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01009\ \textcolor{preprocessor}{\ \ \ \ ;\ }\textcolor{comment}{/*\ end\ lambda\ */}\textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{01010\ \textcolor{preprocessor}{\ \ \ \ GPU\_COMPPARE\_HOTLOOP\_BENCH;}}
\DoxyCodeLine{01011\ }
\DoxyCodeLine{01012\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01013\ }
\DoxyCodeLine{01018\ \textcolor{preprocessor}{\#define\ GPU\_MANUAL\_TIMER\_START\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01019\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ Event\_t)\ start\_manual\_timer,\ stop\_manual\_timer;\ \(\backslash\)}}
\DoxyCodeLine{01020\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventCreate)(\&start\_manual\_timer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01021\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventCreate)(\&stop\_manual\_timer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01022\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(start\_manual\_timer);}}
\DoxyCodeLine{01023\ }
\DoxyCodeLine{01028\ \textcolor{preprocessor}{\#define\ GPU\_MANUAL\_TIMER\_END\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01029\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventRecord)(stop\_manual\_timer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01030\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventSynchronize)(stop\_manual\_timer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01031\ \textcolor{preprocessor}{\ \ \ \ float\ ms\_manual;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01032\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventElapsedTime)(\&ms\_manual,\ start\_manual\_timer,\ stop\_manual\_timer);\ \(\backslash\)}}
\DoxyCodeLine{01033\ \textcolor{preprocessor}{\ \ \ \ SET\_ITERATION\_TIME(1e3\ *\ ms\_manual);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01034\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventDestroy)(start\_manual\_timer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01035\ \textcolor{preprocessor}{\ \ \ \ CONCAT(GPU\_PREFIX,\ EventDestroy)(stop\_manual\_timer);}}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
