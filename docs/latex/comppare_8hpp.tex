\doxysection{include/comppare/comppare.hpp File Reference}
\hypertarget{comppare_8hpp}{}\label{comppare_8hpp}\index{include/comppare/comppare.hpp@{include/comppare/comppare.hpp}}


This file is the main include file for the Com\+PPare framework.  


Include dependency graph for comppare.\+hpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{comppare_8hpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcomppare_1_1spec_3_01_value_00_01void_01_4}{comppare\+::spec$<$ Value, void $>$}}
\item 
struct \mbox{\hyperlink{structcomppare_1_1spec_3_01spec_3_01_value_00_01_policy_01_4_00_01void_01_4}{comppare\+::spec$<$ spec$<$ Value, Policy $>$, void $>$}}
\item 
struct {\bfseries comppare\+::spec$<$ Value, Policy $>$}
\item 
class \mbox{\hyperlink{classcomppare_1_1_input_context}{comppare\+::\+Input\+Context$<$ Inputs $>$}}
\begin{DoxyCompactList}\small\item\em \doxylink{classcomppare_1_1_input_context}{Input\+Context} class template to hold input parameters for the comparison framework. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classcomppare_1_1_input_context_1_1_output_context}{comppare\+::\+Input\+Context$<$ Inputs $>$\+::\+Output\+Context$<$ Specs $>$}}
\begin{DoxyCompactList}\small\item\em \doxylink{classcomppare_1_1_input_context_1_1_output_context}{Output\+Context} class template to hold output parameters and manage implementations. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcomppare_1_1_input_context_1_1_output_context_1_1_impl}{comppare\+::\+Input\+Context$<$ Inputs $>$\+::\+Output\+Context$<$ Specs $>$\+::\+Impl}}
\begin{DoxyCompactList}\small\item\em Internal container representing one registered implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacecomppare}{comppare}}
\begin{DoxyCompactList}\small\item\em Com\+PPare framework main namespace. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Concepts}
\begin{DoxyCompactItemize}
\item 
concept \mbox{\hyperlink{conceptcomppare_1_1_out_spec}{comppare\+::\+Out\+Spec}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{comppare_8hpp_a03adebee29527207e43a1b362d77fe65}{HOTLOOPSTART}}~    auto \&\&hotloop\+\_\+body = \mbox{[}\&\mbox{]}() \{ /\texorpdfstring{$\ast$}{*} start of lambda \texorpdfstring{$\ast$}{*}/
\begin{DoxyCompactList}\small\item\em Macro to mark the start of a hot loop for benchmarking. This macro defines a lambda function {\ttfamily hotloop\+\_\+body} that encapsulates the code to be benchmarked. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{comppare_8hpp_ac5a745e091655671261bf5cddb4d7d82}{COMPPARE\+\_\+\+HOTLOOP\+\_\+\+BENCH}}
\begin{DoxyCompactList}\small\item\em Internal macro to perform the warm-\/up and timed benchmarking loops. This macro is used within the {\ttfamily HOTLOOPEND} macro to execute the benchmarking process. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{comppare_8hpp_a3f983d0c821f40a98683debcc90a1e97}{HOTLOOPEND}}
\item 
\#define \mbox{\hyperlink{comppare_8hpp_a171973717bfe2c264acae42f9e1ad486}{HOTLOOP}}(LOOP\+\_\+\+BODY)
\begin{DoxyCompactList}\small\item\em Macro to wrap a code block for benchmarking. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{comppare_8hpp_a09770669e2181c6a712ea4512ded4e36}{MANUAL\+\_\+\+TIMER\+\_\+\+START}}~    auto t\+\_\+manual\+\_\+start = comppare\+::config\+::clock\+\_\+t\+::now();
\begin{DoxyCompactList}\small\item\em Macro to mark the start of a manual timer for benchmarking. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{comppare_8hpp_a6cde3e9e2e72f32aeb69aba4a09f353f}{MANUAL\+\_\+\+TIMER\+\_\+\+END}}
\begin{DoxyCompactList}\small\item\em Macro to mark the end of a manual timer for benchmarking. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{comppare_8hpp_a8293881eb66cf6e561c6533b3af71ea1}{SET\+\_\+\+ITERATION\+\_\+\+TIME}}(TIME)
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Value, typename Policy$>$ }\\using \mbox{\hyperlink{namespacecomppare_ab1f041e5bc6fe36f404aedc905cf98b2}{comppare\+::set\+\_\+policy}} = \mbox{\hyperlink{structcomppare_1_1spec}{spec}}$<$Value, Policy$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T$>$ }\\void \mbox{\hyperlink{namespacecomppare_a047cefc5aebc47d079d502c2d189fe12}{comppare\+::\+Do\+Not\+Optimize}} (T const \&value)
\begin{DoxyCompactList}\small\item\em Prevents the compiler from optimizing away the given value. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T$>$ }\\void \mbox{\hyperlink{namespacecomppare_a8f44296eb4fa458778afb178b6f613b9}{comppare\+::\+Do\+Not\+Optimize}} (T \&value)
\begin{DoxyCompactList}\small\item\em Prevents the compiler from optimizing away the given value. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T$>$ }\\void \mbox{\hyperlink{namespacecomppare_a7b77a21c84b7542e2e63747647f91cde}{comppare\+::\+Do\+Not\+Optimize}} (T \&\&value)
\begin{DoxyCompactList}\small\item\em Prevents the compiler from optimizing away the given value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacecomppare_a05ebea0d4dc1e2144f68247eb6d9134e}{comppare\+::\+Clobber\+Memory}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file is the main include file for the Com\+PPare framework. 

\begin{DoxyAuthor}{Author}
Leong Fan FUNG (funglf) \href{mailto:stanleyfunglf@gmail.com}{\texttt{stanleyfunglf@gmail.\+com}} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
MIT License 
\end{DoxyCopyright}
\begin{DoxySeeAlso}{See also}
LICENSE For full license text. 
\end{DoxySeeAlso}


\label{doc-define-members}
\Hypertarget{comppare_8hpp_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{comppare_8hpp_ac5a745e091655671261bf5cddb4d7d82}\index{comppare.hpp@{comppare.hpp}!COMPPARE\_HOTLOOP\_BENCH@{COMPPARE\_HOTLOOP\_BENCH}}
\index{COMPPARE\_HOTLOOP\_BENCH@{COMPPARE\_HOTLOOP\_BENCH}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{COMPPARE\_HOTLOOP\_BENCH}{COMPPARE\_HOTLOOP\_BENCH}}
{\footnotesize\ttfamily \label{comppare_8hpp_ac5a745e091655671261bf5cddb4d7d82} 
\#define COMPPARE\+\_\+\+HOTLOOP\+\_\+\+BENCH}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{/*\ Warm-\/up\ */}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ warmup\_t0\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcomppare_1_1config_ab1490e36efe896d0124486f7b4254fc1}{comppare::config::warmup\_iters}}();\ ++i)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ warmup\_t1\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ comppare::config::set\_warmup\_us(warmup\_t0,\ warmup\_t1);\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{/*\ Timed\ */}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ comppare::config::reset\_roi\_us();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ t0\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ for\ (std::size\_t\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcomppare_1_1config_a746ad50b12f724824b3b62f146968a8d}{comppare::config::bench\_iters}}();\ ++i)\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ hotloop\_body();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ t1\ =\ comppare::config::clock\_t::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ if\ (\mbox{\hyperlink{classcomppare_1_1config_a700e53e6f60921f8a97fc64e422f1ec8}{comppare::config::get\_roi\_us}}()\ ==\ \textcolor{keywordtype}{double}(0.0))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ comppare::config::set\_roi\_us(t0,\ t1);}

\end{DoxyCode}


Internal macro to perform the warm-\/up and timed benchmarking loops. This macro is used within the {\ttfamily HOTLOOPEND} macro to execute the benchmarking process. 

\Hypertarget{comppare_8hpp_a171973717bfe2c264acae42f9e1ad486}\index{comppare.hpp@{comppare.hpp}!HOTLOOP@{HOTLOOP}}
\index{HOTLOOP@{HOTLOOP}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{HOTLOOP}{HOTLOOP}}
{\footnotesize\ttfamily \label{comppare_8hpp_a171973717bfe2c264acae42f9e1ad486} 
\#define HOTLOOP(\begin{DoxyParamCaption}\item[{}]{LOOP\+\_\+\+BODY}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{comppare_8hpp_a03adebee29527207e43a1b362d77fe65}{HOTLOOPSTART}}\ LOOP\_BODY\ \mbox{\hyperlink{comppare_8hpp_a3f983d0c821f40a98683debcc90a1e97}{HOTLOOPEND}}}

\end{DoxyCode}


Macro to wrap a code block for benchmarking. 

\Hypertarget{comppare_8hpp_a3f983d0c821f40a98683debcc90a1e97}\index{comppare.hpp@{comppare.hpp}!HOTLOOPEND@{HOTLOOPEND}}
\index{HOTLOOPEND@{HOTLOOPEND}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{HOTLOOPEND}{HOTLOOPEND}}
{\footnotesize\ttfamily \label{comppare_8hpp_a3f983d0c821f40a98683debcc90a1e97} 
\#define HOTLOOPEND}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ ;\ \textcolor{comment}{/*\ end\ lambda\ */}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ if\ (\mbox{\hyperlink{classcomppare_1_1current__state_ae90f9cbfd77a116d5ff05ca13b0e0418}{comppare::current\_state::using\_plugin}}())\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{google__benchmark_8hpp_a3e87ddf7653b3ff4c0debbb366ec1867}{PLUGIN\_HOTLOOP\_BENCH}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{comppare_8hpp_ac5a745e091655671261bf5cddb4d7d82}{COMPPARE\_HOTLOOP\_BENCH}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{comppare_8hpp_a03adebee29527207e43a1b362d77fe65}\index{comppare.hpp@{comppare.hpp}!HOTLOOPSTART@{HOTLOOPSTART}}
\index{HOTLOOPSTART@{HOTLOOPSTART}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{HOTLOOPSTART}{HOTLOOPSTART}}
{\footnotesize\ttfamily \label{comppare_8hpp_a03adebee29527207e43a1b362d77fe65} 
\#define HOTLOOPSTART~    auto \&\&hotloop\+\_\+body = \mbox{[}\&\mbox{]}() \{ /\texorpdfstring{$\ast$}{*} start of lambda \texorpdfstring{$\ast$}{*}/}



Macro to mark the start of a hot loop for benchmarking. This macro defines a lambda function {\ttfamily hotloop\+\_\+body} that encapsulates the code to be benchmarked. 

\Hypertarget{comppare_8hpp_a6cde3e9e2e72f32aeb69aba4a09f353f}\index{comppare.hpp@{comppare.hpp}!MANUAL\_TIMER\_END@{MANUAL\_TIMER\_END}}
\index{MANUAL\_TIMER\_END@{MANUAL\_TIMER\_END}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{MANUAL\_TIMER\_END}{MANUAL\_TIMER\_END}}
{\footnotesize\ttfamily \label{comppare_8hpp_a6cde3e9e2e72f32aeb69aba4a09f353f} 
\#define MANUAL\+\_\+\+TIMER\+\_\+\+END}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ t\_manual\_stop\ =\ comppare::config::clock\_t::now();\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ SET\_ITERATION\_TIME(t\_manual\_stop\ -\/\ t\_manual\_start);}

\end{DoxyCode}


Macro to mark the end of a manual timer for benchmarking. 

\Hypertarget{comppare_8hpp_a09770669e2181c6a712ea4512ded4e36}\index{comppare.hpp@{comppare.hpp}!MANUAL\_TIMER\_START@{MANUAL\_TIMER\_START}}
\index{MANUAL\_TIMER\_START@{MANUAL\_TIMER\_START}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{MANUAL\_TIMER\_START}{MANUAL\_TIMER\_START}}
{\footnotesize\ttfamily \label{comppare_8hpp_a09770669e2181c6a712ea4512ded4e36} 
\#define MANUAL\+\_\+\+TIMER\+\_\+\+START~    auto t\+\_\+manual\+\_\+start = comppare\+::config\+::clock\+\_\+t\+::now();}



Macro to mark the start of a manual timer for benchmarking. 

\Hypertarget{comppare_8hpp_a8293881eb66cf6e561c6533b3af71ea1}\index{comppare.hpp@{comppare.hpp}!SET\_ITERATION\_TIME@{SET\_ITERATION\_TIME}}
\index{SET\_ITERATION\_TIME@{SET\_ITERATION\_TIME}!comppare.hpp@{comppare.hpp}}
\doxysubsubsection{\texorpdfstring{SET\_ITERATION\_TIME}{SET\_ITERATION\_TIME}}
{\footnotesize\ttfamily \label{comppare_8hpp_a8293881eb66cf6e561c6533b3af71ea1} 
\#define SET\+\_\+\+ITERATION\+\_\+\+TIME(\begin{DoxyParamCaption}\item[{}]{TIME}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcomppare_1_1current__state_ae90f9cbfd77a116d5ff05ca13b0e0418}{comppare::current\_state::using\_plugin}}())\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ PLUGIN\_SET\_ITERATION\_TIME(TIME);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ comppare::config::increment\_roi\_us(TIME);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
